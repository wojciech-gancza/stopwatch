<html>
  <head>
  </head>
 
  <body>
  <!--form name="f1"-->
    <div style="width: 480px; height: 320px; background: #80ff80; ">
	  <table width="100%">
	    <tr>
		  <td>Cell 1 1</td>
		  <td>Cell 2 1</td>
		</tr>
	    <tr>
		  <td>Cell 1 2</td>
		  <td style="background: #ffff80; text-align: right; font-size: 12pt; vertical-aligh: top">
		    
			<a id="x1anhr" href="javascript: editCell();" style="font-size: 12pt; text-decoration: none">Cell 2 2 xxx</a>
			 
			<div id="x1edit" style="display: none; position: relative">
		        <input type="text" onFocusOut="leaveCell(true)" onKeyDown="cellKey(event)"
					   id="x1input" name="x1input" 
					   style="width: 100px; font-size: 12pt; text-align: right"> 
			</div>
			
		  </td>
		</tr>
	  </table>
	</div>
    <script>

function convertTimeDuration(txt) {
	words = txt.split(' ')
	value = 0;
	for (i=0; i<words.length; ++i) {
		alert(words[i])
	}
	return 554677;
}
	
function convertToTimeText(seconds) {
	if (seconds < 0) 
		return "-" + convertToTimeText(-seconds);
	if (seconds < 60)
		return (seconds < 10 ? "0" : "") + seconds.toString();
	else if (seconds < 60*60)
		return convertToTimeText(Math.floor(seconds/60)) + ":" + convertToTimeText(seconds%60);
	else if (seconds < 60*60*24)
		return convertToTimeText(Math.floor(seconds/(60*60))) + ":" + convertToTimeText(seconds%(60*60));
	else
		return (Math.floor(seconds/(24*60*60))).toString() + "d " + convertToTimeText(seconds%(24*60*60));
};
	
function editCell() {
	document.getElementById("x1anhr").style.display = "none";
	document.getElementById("x1edit").style.display = "inline";
	document.getElementById("x1input").value = document.getElementById("x1anhr").innerHTML;
	document.getElementById("x1input").focus();
	document.getElementById("x1input").select();
}

function leaveCell(store) {
	document.getElementById("x1anhr").style.display = "inline";
	document.getElementById("x1edit").style.display = "none";
	if (store) {
		value = document.getElementById("x1input").value;
		duration = convertTimeDuration(value)
		if (duration >= 0) {
			var txt = convertToTimeText(duration);
			document.getElementById("x1anhr").innerHTML = txt;
		}
	}
}

function cellKey(event) {
	if (event.keyCode == 13) {
		event.keyCode = 0;
		leaveCell(true);
	}
	if (event.keyCode == 27) {
		event.keyCode = 0;
		document.getElementById("x1input").value = document.getElementById("x1anhr").innerHTML;
		leaveCell(false);
	}
}
	</script>
  <!--/form-->
  </body>
</html>